---
title: Structure
description: Organize your Mapl project
---

This page is a guide on how to follow Mapl best practices.

## Chaining
Chaining is recommended for better type inference.

The following snippet will not infer `c.id` for the handler:
```ts
const app = router();
app.set('id', performance.now);
app.get('/', (c) => `Your id: ${c.id}`);
```

But with chaining `c.id` get inferred automatically:
```ts
const app = router()
  .set('id', performance.now)
  .get('/', (c) => `Your id: ${c.id}`);
```

## MVC pattern
Use the router instance as the controller instead of creating a separated one:
```ts
// Don't
class HomeController {
  static hi() {
    return 'Hi';
  }
}

const app = router()
  .get('/', HomeController.hi);

// Do
const app = router()
  .get('/', () => 'Hi');
```

Avoid using classes when you don't actually need it:
```ts
// Don't
export default class Service {
  static factorial(x: number): number {
    return x < 2 ? 1 : x * Service.factorial(x - 1);
  }
}

// Do
export function factorial(x: number): number {
  return x < 2 ? 1 : x * factorial(x - 1);
}
```
